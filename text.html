<!DOCTYPE HTML>
<html>
    <head>
        <title>文章 -共创家园文章社</title>
        <meta charset="utf-8">
    </head>
    <body onload="gettextdata()">
        <div id="xd"></div>
        <script>
            function gettextdata(){
                var urlParams = new URLSearchParams(window.location.search);
                var id = urlParams.has('id') ? urlParams.get('id') : 'ID参数未提供';
                console.log('https://api-save.kuke.ink/api/textXD/'+id);
               fetch('https://api-save.kuke.ink/api/textXD', {
                    method: 'POST', // 指定请求方法为POST
                    headers: {
                    'Content-Type': 'application/json', // 告诉服务器发送的是JSON格式的数据
                },
                body: JSON.stringify({ 
                    key: id
                }), // 将数据转换为JSON字符串形式
                })
                    .then(response =>{
                        if(response.ok){
                            return response.text();
                        }
                    })
                    .then(data =>{
                        console.log(data); 
                        var container = document.getElementById('xd');
                        var newElement = document.createElement('h2');
                        newElement.textContent = data;
                        container.appendChild(newElement);
                });
                
            }
        </script>
    </body>
</html>
