<!DOCTYPE HTML>
<html>
    <head>
        <title>首页 -共创家园文章社</title>
        <meta charset="utf-8">
        <link rel="stylesheet" type="text/css" href="style.css">
        <style>
            .register{
                position:fixed;
                top:20px;
                left:500px;
                width:60px;
                height:30px;
                background-color:blue;
                border:1px solid white;
                border-radius:5px;
                color:white;
            }
        </style>
    </head>
    <body onload="myFunction()">    
        <div class="nb">
            <h3 class="index">标签栏  |</h3>
            <a href="index.html"><h4 class="indexbq" style="text-decoration: underline;">首页</h4></a>
            <a href="creater.html"><h4 class="createrbq">文章中心</h4></a>
            <button class="register">登录</button>
        </div>
        <div class="bbll">
            <div class="nb3">
                <h1>共创家园文章社</h1>
                <h1 style="color:greenyellow">CCHAS</h1>
            </div>
            <div class="nb2">
                <h1>本周优质文章创作者</h1>
                <h2 style="color:aqua">xiaoyh</h2>
            </div>
        </div>
        <h1 class="sb">下面为推荐文章内容</h1>
        <div id="man"></div>
    <script>
    function myFunction() {
        fetch('https://api-save.kuke.ink/api/hello')
            .then(response =>{
                if(response.ok){
                    return response.text();
                }
            })
            .then(data =>{
                console.log(data); 
                const jsonArray = JSON.parse(data);
                // 遍历数组，直接访问并打印每个对象的键值
                let i=0;
                jsonArray.forEach(item => {
                    console.log(`fuck: ${item.fuck}, key: ${item.key}`);
                    let newElement = document.createElement('a');
                    let wc;
                    newElement.className = 'nbaa';
                    newElement.href = 'text.html?id='+item.id;
                    newElement.addEventListener('click', function() {
                    shitman(item.id);
                });
                    console.log(wc);
                    newElement.innerHTML = '<h1 style="color:grey">文章主题：</h1>' + '<center><h2>'+item.fuck+'</h2></center>';
                    let targetElement = document.getElementById('man');
                    targetElement.appendChild(newElement);
                });
                
    })
}

    </script>
    </body>
</html>
