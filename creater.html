<!DOCTYPE HTML>
<html>
    <head>
        <title>文章中心 -共创家园文章社</title>
        <meta charset="utf-8">
        <link rel="stylesheet" type="text/css" href="style.css">
        <style>
            .form {
              position: relative;
              display: flex;
              align-items: flex-start;
              flex-direction: column;
              gap: 10px;
              width: 300px;
              background-color: white;
              padding: 20px;
              border-radius: 10px;
              box-shadow: 0 30px 30px -30px rgba(27, 26, 26, 0.315);
            }
            
            .form .title {
              color: royalblue;
              font-size: 30px;
              font-weight: 600;
              letter-spacing: -1px;
              line-height: 30px;
              display: flex;
              align-items: center;
              justify-content: center;
            }
            
            .form input {
              outline: 0;
              border: 1px solid rgb(219, 213, 213);
              padding: 8px 14px;
              border-radius: 8px;
              width: 100%;
              height: 50px;
            }
            
            .form textarea {
              border-radius: 8px;
              height: 100px;
              width: 100%;
              resize: none;
              outline: 0;
              padding: 8px 14px;
              border: 1px solid rgb(219, 213, 213);
            }
            
            .form button {
              align-self: flex-end;
              padding: 8px;
              outline: 0;
              border: 0;
              border-radius: 8px;
              font-size: 16px;
              font-weight: 500;
              background-color: royalblue;
              color: #fff;
              cursor: pointer;
            }
                
        </style>
    </head>
    <body>    
        <div class="nb">
            <h3 class="index">标签栏  |</h3>
            <a href="index.html"><h4 class="indexbq">首页</h4></a>
            <a href="creater.html"><h4 class="createrbq">文章中心</h4></a>
        </div>
        <div class="bbll">
            <div class="nb3">
                <h1>共创家园文章社</h1>
                <h1 style="color:greenyellow">CCHAS</h1>
            </div>
        </div>
        <form class="form">
            <div class="title">文章编辑区域</div>
            <input type="text" placeholder="文章标题" class="input" id="fuck">
            <textarea placeholder="请输入您的文章" id="shit"></textarea>
             
            <button>新建文章</button>
        </form>
        <script>
            function fuck() {
                var text = document.getElementById("shit").value;
                var fuck = document.getElementById("fuck").value;
                var id = Math.floor(10000000 + Math.random() * 90000000).toString();
                console.log(text);
                fetch('https://api-save.kuke.ink/api/text', {
                    method: 'POST', // 指定请求方法为POST
                    headers: {
                    'Content-Type': 'application/json', // 告诉服务器发送的是JSON格式的数据
                },
                body: JSON.stringify({ 
                    key: text,
                    fuck: fuck,
                    id: id
                }), // 将数据转换为JSON字符串形式
                })
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    return response.json(); // 如果服务器返回的是JSON格式的数据，这里进行解析
                })
                .then(data => {
                    console.log('Success:', data);
                    document.getElementById("shit").value = "";
                    document.getElementById("fuck").value = "";
                    location.reload();
                    alert('上传成功！');
                })
                .catch((error) => {
                    console.error('Error:', error);
                });
            }
        </script>
    </body>
</html>
